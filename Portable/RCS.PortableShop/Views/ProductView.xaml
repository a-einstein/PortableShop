<?xml version="1.0" encoding="UTF-8"?>

<BaseClasses:View
    x:Class="RCS.PortableShop.Views.ProductView"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:BaseClasses="clr-namespace:RCS.PortableShop.Common.Views;assembly=RCS.PortableShop.Common"
    xmlns:Controls="clr-namespace:RCS.PortableShop.Common.Controls;assembly=RCS.PortableShop.Common"
    xmlns:Converters="clr-namespace:RCS.PortableShop.Common.Converters;assembly=RCS.PortableShop.Common"
    xmlns:Localization="clr-namespace:RCS.PortableShop.Localization;assembly=RCS.PortableShop"
    >
    <!--Background="{StaticResource ProductBackgroundBrush}"-->

    <BaseClasses:View.Resources>
        <ResourceDictionary>
            <!--<Converters:CategoriesFormatter x:Key="CategoriesFormatter"/>-->
            <!--<Converters:SizeFormatter x:Key="SizeFormatter"/>-->
            <!--<Converters:WeightFormatter x:Key="WeightFormatter"/>-->
            <Converters:ByteArrayToImageSourceConverter x:Key="ByteArrayToImageSourceConverter"/>
        </ResourceDictionary>
    </BaseClasses:View.Resources>

    <ScrollView VerticalOptions="Fill">
        <!--TODO Make layout dependent on orientation.-->
        <Grid x:Name="productControl" VerticalOptions="Fill" BackgroundColor="Aqua">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <StackLayout Grid.Column="0" VerticalOptions="Start">
                <Controls:ContentButton Grid.Column="0" Command="{Binding BindingContext.PhotoCommand, Source={x:Reference productControl}}" CommandParameter="{Binding Source, Source={x:Reference imageControl}}" VerticalOptions="Start" Margin="3">
                    <Controls:ContentButton.Content>
                        <Image x:Name="imageControl" Source="{Binding Item.LargePhoto, Converter={StaticResource ByteArrayToImageSourceConverter}}" WidthRequest="240" HeightRequest="240"/>
                    </Controls:ContentButton.Content>
                </Controls:ContentButton>

                <!--Command="{Binding CartCommand}" CommandParameter="{Binding Item}"-->
                <!--TODO FontSize does not work.-->
                <Button Text="{Localization:Translate IncreaseProduct}" FontSize="Small" FontAttributes="Bold" VerticalOptions="End" Margin="0,5"/>
            </StackLayout>

            <StackLayout Grid.Column="1">
                <StackLayout Orientation="Horizontal">
                    <Label Text="{Binding Item.ProductCategory}"/>
                    <Label Text="/"/>
                    <Label Text="{Binding Item.ProductSubcategory}"/>
                </StackLayout>

                <Label Text="{Binding Item.ModelName}"/>

                <Label Text="{Binding Item.Name}" FontSize="Medium" FontAttributes="Bold"/>

                <Label Text="{Binding Item.ProductNumber}"/>

                <Label Text="{Binding Item.ListPrice, StringFormat=\{0:C2\}}" FontAttributes="Bold"/>

                <StackLayout Orientation="Horizontal">
                    <Label Text="{Binding Item.Size}"/>
                    <Label Text="{Binding Item.SizeUnitMeasureCode}"/>
                </StackLayout>

                <StackLayout Orientation="Horizontal">
                    <Label Text="{Binding Item.Weight}"/>
                    <Label Text="{Binding Item.WeightUnitMeasureCode}"/>
                </StackLayout>

                <Label Text="{Binding Item.Color}"/>

                <Label Text="{Binding Item.Description}"/>
            </StackLayout>
        </Grid>
    </ScrollView>
</BaseClasses:View>
